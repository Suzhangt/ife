<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>IFE JavaScript Task 01</title>
  </head>
<body>

  <label>请输入北京今天空气质量：<input id="aqi-input" type="text"></label>
  <button id="button">确认填写</button>

  <div>您输入的值是：<span id="aqi-display">尚无录入</span></div>

<script type="text/javascript">

window.onload=function(){
            var aqi=document.getElementById("aqi-input");
            var display=document.getElementById("aqi-display");
            var btn=document.getElementById("button");
           
           aqi.addEventListener("keyup",function(){
                  this.value=this.value.replace(/[^(\d)]/,"");  /*用正则表达式检查，保证输入只有数字*/
           });

          btn.addEventListener("click",changehtml);

          function changehtml(){
            var num=aqi.value;
             if((!isNaN(num)) && (num>=0) && (num<=500)){
                  display.innerHTML = num;
             } else {
                 alert(aqi.value + " 不是有效的AQI数值，请重新输入0-500的有效整数！")
               }
          }
          aqi.addEventListener("keydown",enterdown); /*enter按下和button按下相同功能*/
          function enterdown(evt){
              if(evt.keyCode==13){
                  btn.click();
              }      
          }
}
</script>
</body>
</html>